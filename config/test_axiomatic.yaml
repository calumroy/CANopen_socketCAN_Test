
  axio_dev: [  # The axiomatic device controller(s). An axiomatic is a CAN device that controls a set of analog/digital input output pins for reading sensor values and driving outputs. 
    {
      name: "Axiomatic_1",                         # The name of the device.
      eds_file: "./config/EDS-23123-1.eds",    # The path and name of the EDS file to use for this canopen evice. 
      dbc_file_name: "./config/axiomatic_23123-1.dbc",  # The dbc file should match the configuration of the RPDOs and TPDOs definied in the .EDS file otherwise the read data will have the wrong names and/or values.
      can_interface: "can0",                  # CAN Interface Number.
      can_interface_type: "socketcan",        # CAN Interface type to use.
      can_bitrate: 125000,                    # CAN bus baud rate in bps. Default factory setting is 125000 bps.
      can_max_read_timeout_ms: 100,           # The max time between checks on the CAN bus for new can messages.
      can_max_errors: 10,                     # The max number of read/wrtie errors before the CAN device is considered to be down. 
      write_period_ms: 100,                   # The period in milliseconds between writes to the device.
      contactor_status_timeout_ms: 1000,      # The max time in milliseconds to wait for the contactor status to change after a contactor command is sent. If a timeout occurs the contactor command is reset to fals 
      system_enable_inverse_logic: False,          # Set to True to use inverse logic in the system enable input.
      display:
        {
          show_controls: ["clearFaults"],
        },
      default_control_inputs:
        {
          precharge_contactor_enable: False,
          main_contactor_enable: False,
          negative_contactor_enable: False,
        },
      device_id: 0x7F,                       # The CAN device ID. Also known as the canopen NODE_ID of the device.
      object_dict_config: [                  # Desired device values for the canopen object dictionary entries (this is only some of the canopen dict entries for the device, the ones we care about). The actual device is checked for the corresponding values to confirm the device is configured correctly and if not sets these values on the device.
        {
          name: "AI_Operating_mode", # 0x6112 Analog Input Pin modes,  0      Channel Off, 1      Normal Operation (analog), 10      Digital Input (On/Off), 20      Analog and On/Off
          subindicies: 
          [
            {
              subname: "Operating Mode Universal Input 1",
              value: 1,    # 1 = Analog Input Mode, Resistive Input Thermistor 1
            },
            {
              subname: "Operating Mode Universal Input 2",
              value: 1,    # 1 = Analog Input Mode, Resistive Input Thermistor 2
            },
            {
              subname: "Operating Mode Universal Input 3",
              value: 1,    # 1 = Analog Input Mode, Resistive Input Thermistor 3
            },
            {
              subname: "Operating Mode Universal Input 4",
              value: 1,    # 1 = Analog Input Mode, Resistive Input Thermistor 4
            },
            {
              subname: "Operating Mode Universal Input 5",
              value: 1,    # 1 = Analog Input Mode, Resistive Input Thermistor 5
            },
            {
              subname: "Operating Mode Universal Input 6", # 1 = Analog Input Mode, Pressure Sensor 1, voltage input
              value: 1,    
            },
            {
              subname: "Operating Mode Universal Input 7", # E-Stop button (Digital Input) If this signal is low it indicates the Emergency Stop button has been pressed.
              value: 10,      # 10 = Digital Input Mode
            },
            {
              subname: "Operating Mode Universal Input 8", # 1 = Analog Input Mode, Pressure Sensor 2, voltage input
              value: 1,     # 1 = Analog Input Mode
            },
            {
              subname: "Operating Mode Universal Input 9", # 1 = Analog Input Mode, Pressure Sensor 3, voltage input
              value: 1,
            },
            {
              subname: "Operating Mode Universal Input 10", # 1 = Analog Input Mode, Pressure Sensor 4, voltage input
              value: 1,
            },
            {
              subname: "Operating Mode Universal Input 11", # YF-S201 Flow sensor (Frequency Input)
              value: 1,     # 1 = Analog Input Mode
            },
            {
              subname: "Operating Mode Universal Input 12", # User selector switch has been set to OFF (Soft stop button)
              value: 10,    # 10 = Digital Input Mode
            },
          ]
        },
        {
          name: "Output Control Source",  # 0x2340 Output Control Source (Select CANOpen rpdo to control the output)
          subindicies: 
          [
            {
              subname: "Proportional Output 1 Control Source",
              value: 1, # 1 = Canopen RPDO control
            },
            {
              subname: "Proportional Output 2 Control Source",
              value: 1, # 1 = Canopen RPDO control
            },
            {
              subname: "Proportional Output 3 Control Source",
              value: 1, # 1 = Canopen RPDO control
            },
            {
              subname: "Proportional Output 4 Control Source",
              value: 1, # 1 = Canopen RPDO control
            },
            {
              subname: "Proportional Output 5 Control Source",
              value: 1, # 1 = Canopen RPDO control
            },
            {
              subname: "Proportional Output 6 Control Source",
              value: 1, # 1 = Canopen RPDO control
            },
            {
              subname: "Proportional Output 7 Control Source",
              value: 1, # 1 = Canopen RPDO control
            },
            {
              subname: "Proportional Output 8 Control Source",
              value: 1, # 1 = Canopen RPDO control
            },
            {
              subname: "Proportional Output 9 Control Source",
              value: 1, # 1 = Canopen RPDO control
            },
            {
              subname: "Proportional Output 10 Control Source",
              value: 1, # 1 = Canopen RPDO control
            },
            {
              subname: "Proportional Output 11 Control Source",
              value: 1, # 1 = Canopen RPDO control
            },
            {
              subname: "Proportional Output 12 Control Source",
              value: 1, # 1 = Canopen RPDO control
            }
          ]
        },
       {
          name: "DI Pullup/Down Mode 1 Input Line",  # Digital Input Pin Pull up/down resistor enabled on digital inputs.
          # 0: Disabled (High impedance)
          # 1: 22k Pullup Resistor Enabled (to 5v)
          # 2: 22k Pulldown Resistor Enabled (to GND)
          subindicies: 
          [
            {
              subname: 7,  
              value: 2,
            },
            {
              subname: 12,  
              value: 2,
            }
          ]
        },
        {
          name: "AI_Sensor_type",  # Analog Input Pin sensor mode selection. 40 Voltage Input, 50 Current Input, 60 Frequency Input (or RPM), 10000 PWM Input, 11000 Resistive Input
          subindicies: 
          [
            {
              subname: 1,
              value: 100,    # Sensor type is 100 for resistive input, Thermistor 1
            },
            {
              subname: 2,
              value: 100,    # Sensor type is 100 for resistive input, Thermistor 2
            },
            {
              subname: 3,
              value: 100,    # Sensor type is 100 for resistive input, Thermistor 3
            },
            {
              subname: 4,
              value: 100,    # Sensor type is 100 for resistive input, Thermistor 4
            },
            {
              subname: 5,
              value: 100,    # Sensor type is 100 for resistive input, Thermistor 5
            },
            {
              subname: 6,
              value: 40,     # Sensor type is 40 for voltage input, Pressure Sensor
            },
            {
              subname: 8,
              value: 40,     # Sensor type is 40 for voltage input, Pressure Sensor 2
            },
            {
              subname: 9,
              value: 40,     # Sensor type is 40 for voltage input, Pressure Sensor 3
            },
            {
              subname: 10,
              value: 40,     # Sensor type is 40 for voltage input, Pressure Sensor 4
            },
            {
              subname: 11,
              value: 60,     # Sensor type is 60 for frequency input, YF-S201 Flow sensor
            },
          ]
        },
        {
          name: "Input Range",
          subindicies:             
          [
            {
              subname: 7,
              value: 1,    #  1 = 10 Hzâ€“1 kHz  
            },
          ]
        },
        {
          # 0: Output Disabled, 10: Output Voltage, 20: Output Current, 40: Output PWM, 1000: Output Digital, 1020: Output Digital Hotshot
          name: "AO_Output_type",  # Analog Output Pin Type selections. 
          subindicies: 
          [
            {
              subname: "Output Type Proportional Output 1",  # AO1 Output = Positive Contactor (K01). 
              value: 1000, # Digital Output (Hotshot) 
            },
            {
              subname: "Output Type Proportional Output 2",  # AO2 Output = Negative Contactor (K02).
              value: 1000, # Digital Output (Hotshot) 
            },
            {
              subname: "Output Type Proportional Output 3",  # AO3 Output = Precharge Contactor (K03).
              value: 1000, # Digital Output (Hotshot) 
            },
            {
              subname: "Output Type Proportional Output 4",  # AO4 Output.
              value: 1000, # Digital Output 
            },
            {
              subname: "Output Type Proportional Output 5",  # AO5 Output.
              value: 1000, # Digital Output 
            },
            {
              subname: "Output Type Proportional Output 6",  # AO6 Output.
              value: 1000, # Digital Output 
            },
            {
              subname: "Output Type Proportional Output 7",  # AO7 Output = 12v Relay Inverter 1.
              value: 1000, # Digital Output 
            },
            {
              subname: "Output Type Proportional Output 8",  # AO8 Output = 12v Relay Inverter 2.
              value: 1000, # Digital Output 
            },
            {
              subname: "Output Type Proportional Output 9",  # AO9 Output.
              value: 1000, # Digital Output 
            },
            {
              subname: "Output Type Proportional Output 10",  # AO10 Output.
              value: 1000, # Digital Output 
            },
            {
              subname: "Output Type Proportional Output 11",  # AO11 Output.
              value: 1000, # Digital Output 
            },
            {
              subname: "Output Type Proportional Output 12",  # AO12 Output.
              value: 1000, # Digital Output 
            },
          ]
        },
        #{
        #  name: "DO Hotshot Current 1 Output Line",
        #  subindicies:
        #  [
        #    {
        #      subname: 1,
        #      value: 30000, # 2000 = 2000mA
        #    },
        #    {
        #      subname: 2,
        #      value: 30000, # 2000 = 2000mA
        #    },
        #    {
        #      subname: 3,
        #      value: 30000, # 2000 = 2000mA
        #    }
        #  ]
        #},
        #{
        #  name: "DO Hold Current 1 Output Line",
        #  subindicies:
        #  [
        #    {
        #      subname: 1,
        #      value: 100, # 100 = 100mA
        #    },
        #    {
        #      subname: 2,
        #      value: 100, # 100 = 100mA
        #    },
        #    {
        #      subname: 3,
        #      value: 100, # 100 = 100mA
        #    }
        #  ]
        #},
        #{
        #  name: "DO Hotshot Time 1 Output Line",
        #  subindicies:  
        #  [
        #    {
        #      subname: 1,
        #      value: 10000, # 1000 = 1000ms
        #    },
        #    {
        #      subname: 2,
        #      value: 10000, # 1000 = 1000ms
        #    },
        #    {
        #      subname: 3,
        #      value: 10000, # 1000 = 1000ms
        #    }
        #  ]
        #},
        # Changing FV and PV scaling factors (in an attempt to fix the resistance range)
        {
          name: "Input Scaling 1 FV",
          subindicies:
          [
            {
              subname: 1,
              value: 10,
            },
          ]
        },
        {
          name: "Input Scaling 2 FV",
          subindicies:
          [
            {
              subname: 1,
              value: 20000,
            },
          ]
        },
        {
          name: "Input Scaling 1 PV",
          subindicies:
          [
            {
              subname: 1,
              value: 1,
            },
          ]
        },
        {
          name: "Input Scaling 2 PV",
          subindicies:
          [
            {
              subname: 1,
              value: 2000,
            },
          ]
        },
        {
          name: "Input Span End (Error Max)",
          subindicies:
          [
            {
              subname: 1,
              value: 25000,
            },
          ]
        },
        #TPDO 1 (Temperature sensors 1 to 4)
        {
          name: "Transmit PDO Communication Parameter 0", # 0x180 + Node ID = 0x7F
          subindicies: 
            [
              {
                subname: "COB ID", 
                value: 0x400001FF,    # 04000000h +  in the COB ID indicates that there is no RTR allowed on the PDO. 80000000h in the COB ID indicates that the PDO does not exist (destroyed).
              },
              {
                subname: "Transmission Type", 
                value: 0xFE, # transmission type 254 means, the application event is manufacturer specific (manufacturer specific part of the Object Dictionary) (it is published at the rate given by the Event Timer object)  
              },
              {
                subname: "Event Timer", 
                value: 100, # The rate to publish this tpdo can message in milliseconds.
              },
              {
                subname: "Inhibit Time",  # defines the minimum time that has to elapse between two consecutive invocations of a transmission service for that data object.
                value: 0,
              }
            ]     
        },
        {
          # TPDO1
          name: "Transmit PDO Mapping Parameter 0", # 0x1A00
          subindicies: 
            [
              {
                subname: "Number of entries", 
                value: 4,
              },
              {
                subname: 1,        # Can use the subindex name or the index value of the subindex in the Object Dict to define the subindex value.
                value: 0x71000110, # 0x71000110 is the object index 0x7100 with subindex 0x01, 0x10 = get 16 bits of this obj dict value of the first mapped object to place in TPDO CAN message. Analog input 1 FV
              },
              {
                subname: 2,
                value: 0x71000210, # 0x71000210 is the object index 0x7100 with subindex 0x02, 0x10 = get 16 bits of this obj dict value of the first mapped object to place in TPDO CAN message. Analog input 2 FV
              },
              {
                subname: 3,        # obj 7100h = AI Input Field Value (measured value of an analog input)
                value: 0x71000310, # 0x71000310 is the object index 0x7100 with subindex 0x03, 0x10 = get 16 bits of this obj dict value of the first mapped object to place in TPDO CAN message. Analog input 3 FV
              },
              {
                subname: 4,
                value: 0x71000410, # 0x71000410 is the object index 0x7100 with subindex 0x04, 0x10 = get 16 bits of this obj dict value of the first mapped object to place in TPDO CAN message. Analog input 4 FV
              }
            ]     
        },
        # TPDO2 communication parameters
        {
          name: "Transmit PDO Communication Parameter 1", # 0x180 + Node ID = 0x7F
          subindicies: 
            [
              {
                subname: "COB ID", 
                value: 0x400002FF,    # 04000000h +  in the COB ID indicates that there is no RTR allowed on the PDO. 80000000h in the COB ID indicates that the PDO does not exist (destroyed).
              },
              {
                subname: "Transmission Type", 
                value: 0xFE, # transmission type 254 means, the application event is manufacturer specific (manufacturer specific part of the Object Dictionary) (it is published at the rate given by the Event Timer object)  
              },
              {
                subname: "Event Timer", 
                value: 100, # The rate to publish this tpdo can message in milliseconds.
              },
              {
                subname: "Inhibit Time",  # defines the minimum time that has to elapse between two consecutive invocations of a transmission service for that data object.
                value: 0,
              }
            ]     
        },
        {
          # TPDO2 mapping parameters
          name: "Transmit PDO Mapping Parameter 1", # 0x1A01 Pressure sensor analog input from 1 to 4
          # Sensor 1 = input 6, Sensor 2 = input 8, Sensor 3 = input 9, Sensor 4 = input 10
          subindicies: 
            [
              {
                subname: "Number of entries", 
                value: 4,
              },
              {
                subname: 1, # Pressure sensor analog input
                value: 0x71000610, # 0x71000610 is the object index 0x7100 with subindex 0x06, 0x10 = get 16 bits of this obj dict value of the first mapped object to place in TPDO CAN message. Analog input 6 FV
              },
              {
                subname: 2, # Pressure sensor analog input
                value: 0x71000810, # 0x71000810 is the object index 0x7100 with subindex 0x08, 0x10 = get 16 bits of this obj dict value of the first mapped object to place in TPDO CAN message. Analog input 8 FV
              },
              {
                subname: 3, # Pressure sensor analog input
                value: 0x71000910, # 0x71000910 is the object index 0x7100 with subindex 0x09, 0x10 = get 16 bits of this obj dict value of the first mapped object to place in TPDO CAN message. Analog input 9 FV
              },
              {
                subname: 4, # Pressure sensor analog input
                value: 0x71000A10, # 0x71000A10 is the object index 0x7100 with subindex 0x0A, 0x10 = get 16 bits of this obj dict value of the first mapped object to place in TPDO CAN message. Analog input 10 FV
              },
            ]     
        },


        # TPDO3 communication parameters
        {
          name: "Transmit PDO Communication Parameter 2", # 0x380 + Node ID = 0x7F
          subindicies: 
            [
              {
                subname: "COB ID", 
                value: 0x400003FF,    # 04000000h +  in the COB ID indicates that there is no RTR allowed on the PDO. 80000000h in the COB ID indicates that the PDO does not exist (destroyed).
              },
              {
                subname: "Transmission Type", 
                value: 0xFE, # transmission type 254 means, the application event is manufacturer specific (manufacturer specific part of the Object Dictionary) (it is published at the rate given by the Event Timer object)  
              },
              {
                subname: "Event Timer", 
                value: 100, # The rate to publish this tpdo can message in milliseconds.
              },
              {
                subname: "Inhibit Time",  # defines the minimum time that has to elapse between two consecutive invocations of a transmission service for that data object.
                value: 0,
              }
            ]     
        },
        {
          # TPDO3 mapping parameters
          name: "Transmit PDO Mapping Parameter 2", # 0x1A02
          subindicies: 
            [
              {
                subname: "Number of entries", 
                value: 4,
              },
              # NOTE: only digital input 12 will be used (system_enable_button)
              {
                subname: 1,        # Can use the subindex name or the index value of the subindex in the Object Dict to define the subindex value.
                value: 0x60000108, # 0x60000108 is the object index 0x6000 with subindex 0x01, 0x08 = get 8 bits of this obj dict value of the first mapped object to place in TPDO CAN message. This corresponds to DI Read State 8 Input Lines (D1 to D8)
              },
              {
                subname: 2,
                value: 0x60000208, # 0x60000208 is the object index 0x6000 with subindex 0x02, 0x08 = get 8 bits of this obj dict value of the first mapped object to place in TPDO CAN message. This corresponds to DI Read State 8 Input Lines (D9 to D16)
              },
              {
                subname: 3,        # obj 7100h = AI Input Field Value (Flow sensor, input 11)
                value: 0x71000B10, # 0x71000B10 is the object index 0x7100 with subindex 0x0B, 0x10 = get 16 bits of this obj dict value of the first mapped object to place in TPDO CAN message. This corresponds to AI Read State 8 Input Lines
              },
              {
                subname: 4,
                value: 0x71000510, # 0x71000510 is the object index 0x7100 with subindex 0x05, 0x10 = get 16 bits of this obj dict value of the first mapped object to place in TPDO CAN message. Analog input 5 FV
              },
            ]     
        },
        {
          # RPDO1
          name: "Receive PDO Communication Parameter 0", # Default ID 0x500 + Node ID = 0x7F
          subindicies: 
            [
              {
                subname: "COB ID", 
                value: 0x4000027F,    # 04000000h +  in the COB ID indicates that there is no RTR allowed on the PDO. 80000000h in the COB ID indicates that the PDO does not exist (destroyed).
              },
              {
                subname: "Transmission Type", 
                value: 0xFF, # transmission type 255 means, the application event is Event Driven (wait for the rpdo to be received).
              },
              {
                subname: "Event Timer", 
                value: 0, # The rate to at which the rpdo message is expected to be received at (milliseconds) otherwise an error occurs. Set to zero to disable this timeout feature.
              },
            ]     
        },
        {
          name: "Receive PDO Mapping Parameter 0", 
          subindicies: 
            [
              {
                subname: "Number of entries", 
                value: 2,
              },
              {
                subname: 1,        # First mapped object to be recieved in the RPDO1 CAN message. 
                value: 0x62000108, # 0x62000108 = Digital Output states for Outputs 1 to 8. Bit 0 is the ON/OFF commanded state for output 1 if Output 1 is set as a digital output type.
              },
              {
                subname: 2,        # Second mapped object to be recieved in the RPDO1 CAN message. 
                value: 0x62000208, # 0x62000208 = Digital Output states for Outputs 9 to 16. Bit 0 is the ON/OFF commanded state for output 9 (which is always a Digital output type).
              },
            ]     
        },
      ]
    },
  ]

